<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>파이보</title>
    <!-- bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <!-- bootstrap-icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
    <!-- font-awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
        integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>
<body class="bg-light">
    <div class="container mt-3">
        <p>
            <button type="button" class="btn btn-primary" id="btnGetPosts">
                get posts
            </button>        
            <button type="button" class="btn btn-success ml-3" id="btnPostPosts">
                post posts
            </button>
        </p>
        <table class="table table-bordered table-hover" id="tbPosts">
            <thead>
                <tr>
                    <td>id</td>
                    <td>userid</td>
                    <td>title</td>
                    <td>body</td>
                </tr>
            </thead>
            <tbody>

            </tbody>
        </table>
    </div>
    <button class="btn btn-primary" id="btnPosts" >Posts</button>   
        <!-- jquery -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"
            integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <!-- font-awesome -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/js/all.min.js"
            integrity="sha512-rpLlll167T5LJHwp0waJCh3ZRf7pO6IT1+LZOhAyP6phAirwchClbTZV3iqL3BMrVxIYRbzGTpli4rfxsCK6Vw=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <!-- bootstrap -->
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
            integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"
            integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+"
            crossorigin="anonymous"></script>
        <!-- custom js -->
        <script>
            $('#btnPosts').on('click',function(){
                //console.log('hello');
                $.ajax({
                    url:'https://jsonplaceholder.typicode.com/posts',
                    type: 'GET',
                    dataType: 'JSON',
                    success: function(response) {
                        //console.log(Response);
                        //console.log(response[0]);
                        //console.log(response[1]);
                        //console.log(response[2]);
                        //console.log(response[3]);
                        //console.log(response[0].id); //첫번째 요소의 아이디값을 불러옴1
                        //console.log(response[0]['id']); //첫번쨰 요소의 아이디값을 불러옴2
                        let id = response[0]['id'];
                        let userId = response[0]['userId'];
                        let title = response[0]['title'];
                        let body = response[0]['body'];

                        let row = '<tr>';
                        row += '<td>' + id + '</td>';
                        row += '<td>' + userId + '</td>';
                        row += '<td>' + title + '</td>';
                        row += '<td>' + body + '</td>'; 
                        row += '</tr>';

                        //prepend
                        //$('#tbPosts > tbody').prepend('<tr><td>' + id + '</td><td>' + userId + '</td><td> ' + title + '</td><td> ' + body + '</td></tr>') //여기가 존나게 기니까 위에서 가급적 사용함
                        //$('#tbPosts > tbody').prepend(row);

                        //append
                        //$('#tbPosts > tbody').append(row);

                        $('#tbPosts > tbody').html(row);

                    },
                    error: function(request, status, error) {
                        console.log(error);
                    }
                });
            })
        </script>

            
</body>

</html>